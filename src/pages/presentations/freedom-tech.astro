---
import Layout from "../../layouts/Layout.astro";
---

<Layout title="Freedom Tech" description="What makes something Freedom Tech?">
  <div class="presentation">
    <div class="slides">
      <section class="slide active" id="slide-1">
        <div class="slide-content">
          <div class="grid-lines"></div>
          <h1>What Makes Something <br/><span class="text-purple font-bold">Freedom Tech?</span></h1>
          <p class="text-xl mt-8">Understanding Digital Self-Sovereignty</p>
        </div>
      </section>

      <section class="slide" id="slide-2">
        <div class="slide-content">
          <h2 class="text-3xl font-light mb-8">Core Requirements</h2>
          <div class="grid grid-cols-2 gap-8">
            <div class="principle-card">
              <h3 class="text-xl mb-3">Essential</h3>
              <ul class="space-y-2">
                <li>‚Ä¢ Sovereign Identity</li>
                <li>‚Ä¢ Signed Public Data</li>
                <li>‚Ä¢ Encrypted Private Data</li>
                <li>‚Ä¢ Self-hostability</li>
                <li>‚Ä¢ Cryptographic Data Integrity</li>
              </ul>
            </div>
            <div class="principle-card">
              <h3 class="text-xl mb-3">Bonus Features</h3>
              <ul class="space-y-2">
                <li>‚Ä¢ Local First</li>
                <li>‚Ä¢ Good Architecture</li>
              </ul>
            </div>
          </div>
        </div>
      </section>

      <section class="slide" id="slide-3">
        <div class="slide-content">
          <h2 class="text-3xl font-light mb-8">1. Sovereign Identity</h2>
          <p class="mb-8">Can I generate my identifier without permission?</p>
          
          <div class="comparison-diagram mb-12">
            <div class="diagram-box">
              <div class="diagram-icon">üîë</div>
              <p>Self-generated</p>
              <p class="text-sm opacity-70">No permission needed</p>
            </div>
            <div class="vs-divider">vs</div>
            <div class="diagram-box" style="border-color: rgba(239, 68, 68, 0.2);">
              <div class="diagram-icon">üë•</div>
              <p>Assigned by others</p>
              <p class="text-sm opacity-70">Permission required</p>
            </div>
          </div>

          <div class="grid grid-cols-2 gap-12">
            <div class="relative">
              <div class="diagram-container">
                <div class="tech-item">
                  <span class="text-green-400">‚úì</span>
                  <div>
                    <div class="tech-name">Nostr pubkey (npub)</div>
                    <div class="tech-problem">npub1unsigned...</div>
                  </div>
                </div>
                <div class="tech-item">
                  <span class="text-green-400">‚úì</span>
                  <div>
                    <div class="tech-name">PGP key</div>
                    <div class="tech-problem">3FA8 A49C 4E07...</div>
                  </div>
                </div>
                <div class="tech-item">
                  <span class="text-green-400">‚úì</span>
                  <div>
                    <div class="tech-name">Bitcoin address</div>
                    <div class="tech-problem">bc1q9h6...</div>
                  </div>
                </div>
                <div class="tech-item">
                  <span class="text-green-400">‚úì</span>
                  <div>
                    <div class="tech-name">Tor .onion address</div>
                    <div class="tech-problem">g3yv5hk...123.onion</div>
                  </div>
                </div>
              </div>
            </div>
            <div class="relative">
              <div class="diagram-container red-border">
                <div class="tech-item">
                  <span class="text-red-400">‚úó</span>
                  <div>
                    <div class="tech-name">Email address</div>
                    <div class="tech-problem">basantagoswami@unsigned.in</div>
                  </div>
                </div>
                <div class="tech-item">
                  <span class="text-red-400">‚úó</span>
                  <div>
                    <div class="tech-name">Mastodon handle</div>
                    <div class="tech-problem">@nvk@bitcoinhackers.org</div>
                  </div>
                </div>
                <div class="tech-item">
                  <span class="text-red-400">‚úó</span>
                  <div>
                    <div class="tech-name">Twitter/X handle</div>
                    <div class="tech-problem">@basanta_goswami</div>
                  </div>
                </div>
                <div class="tech-item">
                  <span class="text-red-400">‚úó</span>
                  <div>
                    <div class="tech-name">IP address</div>
                    <div class="tech-problem">192.168.1.18</div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <section class="slide" id="slide-3-5">
        <div class="slide-content">
          <h2 class="text-3xl font-light mb-8">Permission Hierarchy Example</h2>
          <p class="mb-8">How @basanta_goswami requires permission from multiple layers:</p>

          <div class="flow-diagram mb-12">
            <div class="flow-item">
              <div class="text-xl">ICANN</div>
              <div class="text-sm opacity-70">Controls global DNS system</div>
            </div>
            <div class="flow-arrow">‚Üì</div>
            <div class="flow-item">
              <div class="text-xl">Registry Operators (Verisign)</div>
              <div class="text-sm opacity-70">Operates .com TLD infrastructure</div>
            </div>
            <div class="flow-arrow">‚Üì</div>
            <div class="flow-item">
              <div class="text-xl">Domain Registrars (GoDaddy)</div>
              <div class="text-sm opacity-70">Sells domains to end users</div>
            </div>
            <div class="flow-arrow">‚Üì</div>
            <div class="flow-item">
              <div class="text-xl">Twitter Inc.</div>
              <div class="text-sm opacity-70">Owns twitter.com domain</div>
            </div>
            <div class="flow-arrow">‚Üì</div>
            <div class="flow-item">
              <div class="text-xl">End User</div>
              <div class="text-sm opacity-70">@basanta_goswami</div>
            </div>
          </div>

          <div class="bg-dark p-6 rounded-lg mt-8">
            <p class="text-xl mb-4">Each layer needs permission from above:</p>
            <ul class="space-y-2 text-gray-400">
              <li>‚Ä¢ ICANN controls the root DNS system</li>
              <li>‚Ä¢ Verisign operates .com under ICANN contract</li>
              <li>‚Ä¢ GoDaddy sells domains via Verisign</li>
              <li>‚Ä¢ Twitter bought twitter.com from a registrar</li>
              <li>‚Ä¢ Finally, Twitter assigns usernames</li>
            </ul>
          </div>
        </div>
      </section>

      <section class="slide" id="slide-4">
        <div class="slide-content">
          <h2 class="text-3xl font-light mb-8">Human Readable Names</h2>

          <div class="flow-diagram mb-12">
            <div class="flow-item">Cryptographic Identity</div>
            <div class="flow-arrow">‚Üì</div>
            <div class="flow-item">Local Contact Names</div>
            <div class="flow-arrow">‚Üì</div>
            <div class="flow-item">Optional Global Names</div>
          </div>

          <div class="text-sm opacity-75">
            <p class="mb-4">Contact Names vs Globally Unique Names</p>
            <ul class="space-y-4">
              <li>‚Ä¢ Globally unique names always need a central coordinator</li>
              <li>‚Ä¢ Cryptographic identifiers aren't human friendly</li>
              <li>‚Ä¢ Can use centralized names as overlay on pubkeys (lightning address)</li>
              <li>‚Ä¢ Best: Use contact names to refer to pubkeys (like phone contacts)</li>
            </ul>
          </div>
        </div>
      </section>

      <section class="slide" id="slide-5">
        <div class="slide-content">
          <h2 class="text-3xl font-light mb-8">2. Signed Public Data</h2>
          <p class="mb-8">Are we signing our data using private keys for authenticity?</p>
          
          <div class="comparison-diagram mb-12">
            <div class="diagram-box">
              <div class="diagram-icon">‚úçÔ∏è</div>
              <p>Cryptographically Signed</p>
              <p class="text-sm opacity-70">Verifiable authenticity</p>
            </div>
            <div class="vs-divider">vs</div>
            <div class="diagram-box" style="border-color: rgba(239, 68, 68, 0.2);">
              <div class="diagram-icon">‚ùì</div>
              <p>Unsigned Data</p>
              <p class="text-sm opacity-70">No proof of origin</p>
            </div>
          </div>

          <div class="grid grid-cols-2 gap-12">
            <div class="relative">
              <div class="diagram-container">
                <div class="tech-item">
                  <span class="text-green-400">‚úì</span>
                  <div class="tech-name">Nostr events</div>
                </div>
                <div class="tech-item">
                  <span class="text-green-400">‚úì</span>
                  <div class="tech-name">Bitcoin transactions</div>
                </div>
              </div>
            </div>
            <div class="relative">
              <div class="diagram-container red-border">
                <div class="tech-item">
                  <span class="text-red-400">‚úó</span>
                  <div class="tech-name">Websites</div>
                </div>
                <div class="tech-item">
                  <span class="text-red-400">‚úó</span>
                  <div class="tech-name">Blogs</div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <section class="slide" id="slide-6">
        <div class="slide-content">
          <h2 class="text-3xl font-light mb-8">3. Encrypted Private Data</h2>
          <p class="mb-8">Are we encrypted our data using a private keys we control?</p>
          <div class="grid grid-cols-2 gap-12">
            <div class="relative">
              <div class="diagram-container">
                <div class="tech-item">
                  <span class="text-green-400">‚úì</span>
                  <div class="tech-name">WhatsApp</div>
                </div>
                <div class="tech-item">
                  <span class="text-green-400">‚úì</span>
                  <div class="tech-name">Signal</div>
                </div>
                <div class="tech-item">
                  <span class="text-green-400">‚úì</span>
                  <div class="tech-name">Proton Drive</div>
                </div>
                <div class="tech-item">
                  <span class="text-green-400">‚úì</span>
                  <div class="tech-name">HTTPS</div>
                  <div class="tech-problem">While talking to server</div>
                </div>
              </div>
            </div>
            <div class="relative">
              <div class="diagram-container red-border">
                <div class="tech-item">
                  <span class="text-red-400">‚úó</span>
                  <div class="tech-name">Google Drive</div>
                </div>
                <div class="tech-item">
                  <span class="text-red-400">‚úó</span>
                  <div class="tech-name">Telegram</div>
                </div>
                <div class="tech-item">
                  <span class="text-red-400">‚úó</span>
                  <div class="tech-name">HTTP</div>
                </div>
                <div class="tech-item">
                  <span class="text-red-400">‚úó</span>
                  <div class="tech-name">TCP/IP</div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <section class="slide" id="slide-7">
        <div class="slide-content">
          <h2 class="text-3xl font-light mb-8">4. Self-hostability</h2>
          <p class="mb-8">Where is your data hosted?</p>
          <div class="grid grid-cols-2 gap-12">
            <div class="relative">
              <div class="diagram-container">
                <div class="tech-item">
                  <span class="text-green-400">‚úì</span>
                  <div class="tech-name">Bitcoin node</div>
                </div>
                <div class="tech-item">
                  <span class="text-green-400">‚úì</span>
                  <div class="tech-name">Lightning node</div>
                </div>
                <div class="tech-item">
                  <span class="text-green-400">‚úì</span>
                  <div class="tech-name">Nostr relay</div>
                </div>
                <div class="tech-item">
                  <span class="text-green-400">‚úì</span>
                  <div class="tech-name">Cryptpad</div>
                </div>
              </div>
            </div>
            <div class="relative">
              <div class="diagram-container red-border">
                <div class="tech-item">
                  <span class="text-red-400">‚úó</span>
                  <div class="tech-name">Signal</div>
                </div>
                <div class="tech-item">
                  <span class="text-red-400">‚úó</span>
                  <div class="tech-name">Proton Drive</div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <section class="slide" id="slide-8">
        <div class="slide-content">
          <h2 class="text-3xl font-light mb-8">5. Cryptographic Data Integrity</h2>
          <p class="mb-8">Are your content identified by hashes?</p>

          <div class="bg-dark p-6 rounded-lg mb-8">
            <p class="text-xl mb-4">Why we need this:</p>
            <ul class="space-y-2 text-gray-400">
              <li>‚Ä¢ Without hashes, content can be changed</li>
              <li>‚Ä¢ References to content can be lost or hijacked</li>
            </ul>
          </div>

          <div class="grid grid-cols-2 gap-12">
            <div class="relative">
              <div class="diagram-container">
                <div class="tech-item">
                  <span class="text-green-400">‚úì</span>
                  <div class="tech-name">IPFS</div>
                </div>
                <div class="tech-item">
                  <span class="text-green-400">‚úì</span>
                  <div class="tech-name">Nostr (event id)</div>
                </div>
                <div class="tech-item">
                  <span class="text-green-400">‚úì</span>
                  <div class="tech-name">Git commits</div>
                </div>
              </div>
            </div>
            <div class="relative">
              <div class="diagram-container red-border">
                <div class="tech-item">
                  <span class="text-red-400">‚úó</span>
                  <div class="tech-name">Files in S3</div>
                </div>
                <div class="tech-item">
                  <span class="text-red-400">‚úó</span>
                  <div class="tech-name">Tweets</div>
                </div>
                <div class="tech-item">
                  <span class="text-red-400">‚úó</span>
                  <div class="tech-name">Blog post links</div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <section class="slide" id="slide-8-5">
        <div class="slide-content">
          <h2 class="text-3xl font-light mb-8">The Twitter Handle Problem</h2>
          <div class="flow-diagram mb-12">
            <div class="flow-item">
              <div class="text-xl">@fiatjaf deletes account</div>
            </div>
            <div class="flow-arrow">‚Üì</div>
            <div class="flow-item">
              <div class="text-xl">Someone else registers @fiatjaf</div>
            </div>
            <div class="flow-arrow">‚Üì</div>
            <div class="flow-item">
              <div class="text-xl">Old links now point to new account</div>
            </div>
          </div>

          <div class="bg-dark p-6 rounded-lg mt-8">
            <p class="text-xl mb-4">Why this happens:</p>
            <ul class="space-y-2 text-gray-400">
              <li>‚Ä¢ Usernames can be recycled</li>
              <li>‚Ä¢ Links use handles instead of permanent IDs</li>
              <li>‚Ä¢ No cryptographic proof of original identity</li>
            </ul>
          </div>
        </div>
      </section>

      <section class="slide" id="slide-9">
        <div class="slide-content">
          <h2 class="text-3xl font-light mb-8">6. FOSS</h2>
          <p class="mb-8">Can we check and verify the app's source code to make sure it does what it claims?</p>

          <div class="bg-dark p-6 rounded-lg mb-8">
            <p class="text-xl mb-4">License matters:</p>
            <ul class="space-y-2 text-gray-400">
              <li>‚Ä¢ MIT/GPL etc encourage code review</li>
              <li>‚Ä¢ Community can verify security claims</li>
              <li>‚Ä¢ Others can build upon and improve the code</li>
            </ul>
          </div>

          <div class="grid grid-cols-2 gap-12">
            <div class="relative">
              <div class="diagram-container">
                <div class="tech-item">
                  <span class="text-green-400">‚úì</span>
                  <div class="tech-name">Most Nostr clients</div>
                </div>
                <div class="tech-item">
                  <span class="text-green-400">‚úì</span>
                  <div class="tech-name">Bitcoin wallets</div>
                </div>
              </div>
            </div>
            <div class="relative">
              <div class="diagram-container red-border">
                <div class="tech-item">
                  <span class="text-red-400">‚úó</span>
                  <div class="tech-name">Keet</div>
                </div>
                <div class="tech-item">
                  <span class="text-red-400">‚úó</span>
                  <div class="tech-name">Yakihonne</div>
                </div>
                <div class="tech-item">
                  <span class="text-red-400">‚úó</span>
                  <div class="tech-name">Most corporate software</div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <section class="slide" id="slide-10">
        <div class="slide-content">
          <h2 class="text-3xl font-light mb-8">Bonus: Local First</h2>
          <p class="mb-8">Can our app work without internet?</p>
          <div class="text-center">
            <p class="text-xl mb-4">Many Nostr apps don't, but they theoretically can</p>
          </div>
        </div>
      </section>

      <section class="slide" id="slide-11">
        <div class="slide-content">
          <h2 class="text-3xl font-light mb-8">Architecture Debates</h2>
          <div class="text-center">
            <ul class="text-left space-y-4 mt-8">
              <li>‚Ä¢ You might not like IPFS for trying to decentralize storage itself</li>
              <li>‚Ä¢ You might not like Nostr for using websockets and JSON</li>
              <li>‚Ä¢ You might not like Bitcoin for being too limited</li>
              <li>‚Ä¢ You might not like altcoins because Bitcoin already solved digital scarcity</li>
            </ul>
            <p class="mt-8 text-purple-400">But once we have established the other points, this is the one we can argue about</p>
          </div>
        </div>
      </section>
    </div>

    <div class="controls">
      <button id="prevSlide" class="control-btn" aria-label="Previous slide">
        <span class="text-2xl">‚Üê</span>
      </button>
      <button id="nextSlide" class="control-btn" aria-label="Next slide">
        <span class="text-2xl">‚Üí</span>
      </button>
    </div>

    <div class="slide-counter">
      <span id="currentSlideNum">1</span>/<span id="totalSlides">13</span>
    </div>
  </div>
</Layout>

<style>
  .presentation {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    background: var(--color-background);
  }

  .slides {
    width: 100%;
    height: 100%;
  }

  .slide {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    opacity: 0;
    visibility: hidden;
    transition: opacity 0.4s ease;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 2rem;
  }

  .slide.active {
    opacity: 1;
    visibility: visible;
  }

  .slide-content {
    max-width: 1200px;
    padding: 0 2rem;
  }

  .bg-dark {
    background-color: rgba(15, 15, 15, 0.5);
  }

  .controls {
    position: fixed;
    bottom: 2rem;
    left: 50%;
    transform: translateX(-50%);
    display: flex;
    gap: 1rem;
    z-index: 10;
  }

  .control-btn {
    background: rgba(123, 104, 238, 0.1);
    border: 1px solid var(--color-purple);
    color: var(--color-purple);
    width: 3rem;
    height: 3rem;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: all 0.3s ease;
  }

  .control-btn:hover {
    background: var(--color-purple);
    color: white;
  }

  .grid-lines {
    position: absolute;
    inset: 0;
    background-image: linear-gradient(rgba(123, 104, 238, 0.1) 1px, transparent 1px),
      linear-gradient(90deg, rgba(123, 104, 238, 0.1) 1px, transparent 1px);
    background-size: 40px 40px;
    background-position: center center;
    transform: perspective(1000px) rotateX(45deg) scale(2);
    transform-origin: center bottom;
    opacity: 0.2;
    z-index: -1;
  }

  .principle-card {
    background: rgba(15, 15, 15, 0.5);
    border: 1px solid rgba(123, 104, 238, 0.2);
    padding: 1.5rem;
    border-radius: 0.5rem;
    transition: all 0.3s ease;
  }

  .principle-card:hover {
    border-color: var(--color-purple);
    transform: translateY(-2px);
  }

  .principle-diagram {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 1rem;
    margin-top: 1rem;
    font-size: 1.5rem;
  }

  .diagram-container {
    background: rgba(15, 15, 15, 0.5);
    border: 1px solid rgba(123, 104, 238, 0.2);
    padding: 1.5rem;
    border-radius: 0.5rem;
    min-height: 300px;
    display: flex;
    flex-direction: column;
  }

  .platform-diagram, .protocol-diagram {
    flex: 1;
    display: flex;
    flex-direction: column;
    gap: 2rem;
    align-items: center;
    justify-content: center;
  }

  .platform-box {
    border: 1px solid rgba(255, 255, 255, 0.2);
    padding: 1rem;
    border-radius: 0.5rem;
    width: 80%;
    text-align: center;
  }

  .protocol-layer {
    border: 1px solid var(--color-purple);
    padding: 1rem;
    border-radius: 0.5rem;
    width: 100%;
    text-align: center;
  }

  .apps-layer {
    display: flex;
    gap: 1rem;
    justify-content: center;
  }

  .app {
    border: 1px solid rgba(255, 255, 255, 0.2);
    padding: 0.5rem 1rem;
    border-radius: 0.5rem;
  }

  .crypto-diagram {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 1rem;
    margin-top: 2rem;
  }

  .key, .data, .result {
    padding: 0.5rem 1rem;
    border-radius: 0.5rem;
    text-align: center;
  }

  .key {
    background: rgba(123, 104, 238, 0.2);
    border: 1px solid var(--color-purple);
  }

  .data {
    background: rgba(255, 255, 255, 0.1);
    border: 1px solid rgba(255, 255, 255, 0.2);
  }

  .result {
    color: var(--color-purple);
  }

  .slide-counter {
    position: fixed;
    bottom: 2rem;
    right: 2rem;
    color: var(--color-purple);
    font-family: var(--font-mono);
    font-size: 0.875rem;
  }

  @keyframes fadeIn {
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .diagram-container {
    opacity: 0;
    transform: translateY(20px);
    animation: fadeIn 0.6s ease forwards;
  }

  .slide.active .diagram-container {
    animation-play-state: running;
  }

  .tech-card {
    background: rgba(15, 15, 15, 0.5);
    border: 1px solid rgba(123, 104, 238, 0.2);
    padding: 1.5rem;
    border-radius: 0.5rem;
    text-align: center;
    transition: all 0.3s ease;
  }

  .tech-card:hover {
    border-color: var(--color-purple);
    transform: translateY(-2px);
  }

  .tech-icon {
    font-size: 2rem;
    margin-bottom: 0.5rem;
  }

  .tech-desc {
    color: var(--color-purple);
    font-size: 0.875rem;
  }

  .red-border {
    border-color: rgba(239, 68, 68, 0.2);
  }

  .yellow-border {
    border-color: rgba(234, 179, 8, 0.2);
  }

  .tech-item {
    display: flex;
    align-items: center;
    gap: 1rem;
    padding: 1.5rem;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
  }

  .tech-item:last-child {
    border-bottom: none;
  }

  .tech-name {
    font-size: 1.25rem !important;
  }

  .tech-problem {
    font-size: 1rem !important;
  }

  ul li {
    font-size: 1.5rem !important;
    line-height: 1.5;
  }

  .diagram-container {
    min-height: 300px;
    padding: 2rem;
  }

  .flow-diagram {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
    align-items: center;
    margin: 2rem 0;
  }

  .flow-item {
    background: rgba(123, 104, 238, 0.1);
    border: 1px solid var(--color-purple);
    padding: 1rem 2rem;
    border-radius: 0.5rem;
    font-size: 1.25rem;
    position: relative;
  }

  .flow-arrow {
    color: var(--color-purple);
    font-size: 1.5rem;
  }

  .comparison-diagram {
    display: grid;
    grid-template-columns: 1fr auto 1fr;
    gap: 2rem;
    align-items: center;
    margin: 2rem 0;
  }

  .vs-divider {
    font-size: 2rem;
    color: var(--color-purple);
    opacity: 0.5;
  }

  .diagram-box {
    background: rgba(15, 15, 15, 0.5);
    border: 1px solid rgba(123, 104, 238, 0.2);
    padding: 2rem;
    border-radius: 0.5rem;
    text-align: center;
    font-size: 1.25rem;
  }

  .diagram-icon {
    font-size: 3rem;
    margin-bottom: 1rem;
  }

  h1 {
    font-size: 5rem;
    line-height: 1.1;
    margin-bottom: 2rem;
  }

  h2 {
    font-size: 3.5rem !important;
    margin-bottom: 2rem !important;
  }

  p {
    font-size: 1.5rem !important;
    line-height: 1.5;
  }

  .tech-name {
    font-size: 1.25rem !important;
  }

  .tech-problem {
    font-size: 1rem !important;
  }

  ul li {
    font-size: 1.5rem !important;
    line-height: 1.5;
  }

  .diagram-container {
    min-height: 300px;
    padding: 2rem;
  }

  .flow-diagram {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
    align-items: center;
    margin: 2rem 0;
  }

  .flow-item {
    background: rgba(123, 104, 238, 0.1);
    border: 1px solid var(--color-purple);
    padding: 1rem 2rem;
    border-radius: 0.5rem;
    font-size: 1.25rem;
    position: relative;
  }

  .flow-arrow {
    color: var(--color-purple);
    font-size: 1.5rem;
  }

  .comparison-diagram {
    display: grid;
    grid-template-columns: 1fr auto 1fr;
    gap: 2rem;
    align-items: center;
    margin: 2rem 0;
  }

  .vs-divider {
    font-size: 2rem;
    color: var(--color-purple);
    opacity: 0.5;
  }

  .diagram-box {
    background: rgba(15, 15, 15, 0.5);
    border: 1px solid rgba(123, 104, 238, 0.2);
    padding: 2rem;
    border-radius: 0.5rem;
    text-align: center;
    font-size: 1.25rem;
  }

  .diagram-icon {
    font-size: 3rem;
    margin-bottom: 1rem;
  }
</style>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    let currentSlide = 1;
    const totalSlides = document.querySelectorAll('.slide').length;
    
    function showSlide(n: number) {
      const slides = document.querySelectorAll('.slide');
      
      if (n > totalSlides) {
        currentSlide = 1;
      } else if (n < 1) {
        currentSlide = totalSlides;
      } else {
        currentSlide = n;
      }
      
      slides.forEach(slide => {
        slide.classList.remove('active');
      });
      
      slides[currentSlide - 1].classList.add('active');
      
      const currentSlideNum = document.getElementById('currentSlideNum');
      if (currentSlideNum) {
        currentSlideNum.textContent = currentSlide.toString();
      }
    }

    const totalSlidesElement = document.getElementById('totalSlides');
    if (totalSlidesElement) {
      totalSlidesElement.textContent = totalSlides.toString();
    }

    document.getElementById('nextSlide')?.addEventListener('click', () => {
      showSlide(currentSlide + 1);
    });

    document.getElementById('prevSlide')?.addEventListener('click', () => {
      showSlide(currentSlide - 1);
    });

    document.addEventListener('keydown', (e) => {
      if (e.key === 'ArrowRight' || e.key === ' ') {
        showSlide(currentSlide + 1);
      }
      if (e.key === 'ArrowLeft') {
        showSlide(currentSlide - 1);
      }
    });

    let touchStartX = 0;
    document.addEventListener('touchstart', (e) => {
      touchStartX = e.changedTouches[0].screenX;
    });

    document.addEventListener('touchend', (e) => {
      const touchEndX = e.changedTouches[0].screenX;
      if (touchEndX < touchStartX) {
        showSlide(currentSlide + 1); 
      }
      if (touchEndX > touchStartX) {
        showSlide(currentSlide - 1); 
      }
    });
  });
</script>

</Layout>
